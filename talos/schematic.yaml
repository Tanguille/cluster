# Generate a schematic for a Talos node
# curl -X POST --data-binary @talos/schematic.yaml \
#  https://factory.talos.dev/schematics
# Truenas VM
# 0c544398f7d997fb2489308b8c8334a4c3c07b574e67918342fc769da2ab87c1
---
customization:
  extraKernelArgs:
    - apparmor=0
    - init_on_alloc=0
    - init_on_free=0
    - talos.auditd.disabled=1
    - talos.dashboard.disabled=1
    - -selinux
    - cpufreq.default_governor=performance
    - amd_pstate=active
    - intel_iommu=on
    - iommu=pt
    - mitigations=off
    - security=none
  systemExtensions:
    officialExtensions:
      - siderolabs/nvidia-container-toolkit-production
      - siderolabs/nvidia-open-gpu-kernel-modules-production
      - siderolabs/qemu-guest-agent
      - siderolabs/nfsrahead
# Chuwi ubox
# 7afb59ad38a2e279afd0a7d2ca841becef7521856b55d140cffdf3459d8d3707
---
customization:
  extraKernelArgs:
    - talos.platform=metal
    - apparmor=0
    - init_on_alloc=0
    - init_on_free=0
    - talos.auditd.disabled=1
    - talos.dashboard.disabled=1
    - -selinux
    - amd_pstate=active
    - mitigations=off
    - security=none
  systemExtensions:
    officialExtensions:
      - siderolabs/amdgpu
      - siderolabs/amd-ucode
      - siderolabs/nfsrahead
