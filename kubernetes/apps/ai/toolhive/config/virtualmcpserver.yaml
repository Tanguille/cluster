---
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: VirtualMCPServer
metadata:
  name: tools-gateway
  namespace: ai
spec:
  incomingAuth:
    type: anonymous
  serviceType: ClusterIP
  config:
    groupRef: mcp-tools
    aggregation:
      conflictResolution: prefix
      conflictResolutionConfig:
        prefixFormat: "{workload}_"
    operational:
      failureHandling:
        partialFailureMode: bestEffort
        healthCheckTimeout: 15s
